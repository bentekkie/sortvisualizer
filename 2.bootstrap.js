(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{27:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(a,s){function l(e){try{i(r.next(e))}catch(e){s(e)}}function o(e){try{i(r.throw(e))}catch(e){s(e)}}function i(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(l,o)}i((r=r.apply(e,t||[])).next())})},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const s=a(n(7)),l=n(7),o=a(n(28)),i=n(52),u=n(49);function c(e){return e.map(e=>[Math.random(),e]).sort((e,t)=>e[0]-t[0]).map(e=>e[1])}function*h(e,t){for(let n=e;n<t;n++)yield n}t.App=class extends l.Component{constructor(e){super(e),this.sortList=(()=>{this.setState({running:!0},()=>r(this,void 0,void 0,function*(){for(const{array:e,swap:t}of u.run_sort(this.state.array,this.state.sortType)){if(!this.state.running)break;console.log(e),this.setState(n=>({prevArray:n.array,array:e,swap:t})),yield u.delay(this.state.delay)}this.setState({running:!1,swap:[-1,-1]})}))});const t=c([...h(1,11)]);this.state={array:t,prevArray:t,swap:[-1,-1],sortType:u.sorts.selection,running:!1,n:10,delay:100}}render(){return s.createElement(i.Container,null,s.createElement(i.Row,null,s.createElement(i.Col,null,s.createElement(i.Form,null,s.createElement(i.Row,{noGutters:!0},s.createElement(i.Col,{xs:1,className:"text-right"},s.createElement(i.Button,{color:"info",onClick:()=>this.setState(({n:e})=>({array:c([...h(1,e+1)])})),disabled:this.state.running},"Shuffle")),s.createElement(i.Col,null,s.createElement(i.Input,{type:"select",name:"select",id:"exampleSelect",value:this.state.sortType,onChange:e=>this.setState({sortType:e.target.value}),disabled:this.state.running},Object.keys(u.sorts).map(e=>s.createElement("option",{value:e},e)))),s.createElement(i.Col,{xs:1},s.createElement(i.Button,{color:"success",onClick:()=>{this.sortList()},disabled:this.state.running},"Sort")),s.createElement(i.Col,{xs:1},s.createElement(i.Button,{color:"danger",onClick:()=>this.setState({running:!1}),disabled:!this.state.running},"Stop"))),s.createElement(i.Row,{noGutters:!0},s.createElement(i.Col,{xs:1,className:"text-right"},s.createElement(i.Label,{for:"nrange"},"Length:")),s.createElement(i.Col,null,s.createElement(i.Input,{id:"nrange",name:"nrange",className:"custom-range",type:"range",max:100,min:1,step:1,value:this.state.n,disabled:this.state.running,onChange:e=>{let t=e.target.valueAsNumber;this.setState({n:t,array:c([...h(1,t+1)])})}})),s.createElement(i.Col,{xs:1},s.createElement(i.Input,{type:"number",value:this.state.n,disabled:this.state.running,onChange:e=>{let t=e.target.valueAsNumber;this.setState({n:t,array:c([...h(1,t+1)])})}}))),s.createElement(i.Row,{noGutters:!0},s.createElement(i.Col,{xs:1,className:"text-right"},s.createElement(i.Label,{for:"ndelay"},"Delay:")),s.createElement(i.Col,null,s.createElement(i.Input,{id:"ndelay",name:"ndelay",className:"custom-range",type:"range",max:1e3,min:0,step:1,value:this.state.delay,disabled:this.state.running,onChange:e=>{let t=e.target.valueAsNumber;this.setState({delay:t})}})),s.createElement(i.Col,{xs:1},s.createElement(i.Input,{type:"number",value:this.state.delay,disabled:this.state.running,onChange:e=>{let t=e.target.valueAsNumber;this.setState({delay:t})}})))))),s.createElement(i.Row,{style:{flexGrow:1}},s.createElement(i.Col,null,this.state.array.map((e,t,n)=>s.createElement(i.Row,{key:e,style:{height:`${100/n.length}%`}},s.createElement(i.Col,null,s.createElement(i.Progress,{style:{height:"100%"},color:this.state.swap.indexOf(t)>=0?o.isEqual(this.state.prevArray,this.state.array)?"success":"danger":"info",value:100*e*1/n.length})))))))}}},49:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(50);!function(e){e.quick="quick",e.selection="selection",e.insertion="insertion",e.merge="merge",e.gnome="gnome",e.heap="heap",e.bubble="bubble",e.cocktail="cocktail"}(t.sorts||(t.sorts={})),t.run_sort=function*(e,t){const n=e.length+2,a=r.sort(new Uint32Array(e),t);console.log("got array");for(let e=0;e<a.length/n;e++){let t=[...a.slice(e*n,(e+1)*n)],r=t.splice(t.length-2,2);yield{array:t,swap:r}}},t.delay=(e=>new Promise(t=>{setTimeout(t,e)}))},50:function(e,t,n){"use strict";n.r(t),n.d(t,"sort",function(){return m}),n.d(t,"__wbindgen_object_drop_ref",function(){return g});var r=n(51);let a=null;function s(){return null!==a&&a.buffer===r.e.buffer||(a=new Uint32Array(r.e.buffer)),a}let l=0;let o,i=new TextEncoder("utf-8"),u=null;function c(){return null!==u&&u.buffer===r.e.buffer||(u=new Uint8Array(r.e.buffer)),u}o="function"==typeof i.encodeInto?function(e){let t=e.length,n=r.c(t),a=0;for(;;){const s=c().subarray(n+a,n+t),{read:l,written:o}=i.encodeInto(e,s);if(a+=o,l===e.length)break;e=e.substring(l),n=r.d(n,t,t+=3*e.length)}return l=a,n}:function(e){const t=i.encode(e),n=r.c(t.length);return c().set(t,n),l=t.length,n};let h=null;function m(e,t){const n=function(e){const t=r.c(4*e.length);return s().set(e,t/4),l=e.length,t}(e),a=l,i=o(t),u=l,c=(null===h&&(h=r.b()),h);r.f(c,n,a,i,u);const m=s(),f=m[c/4],d=m[c/4+1],g=(y=f,p=d,s().subarray(y/4,y/4+p)).slice();var y,p;return r.a(f,4*d),g}const f=new Array(32);f.fill(void 0),f.push(void 0,null,!0,!1);let d=f.length;function g(e){var t;(t=e)<36||(f[t]=d,d=t)}},51:function(e,t,n){"use strict";var r=n.w[e.i];e.exports=r,r.g()},6:function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const a=r(n(7)),s=r(n(10)),l=n(27);s.render(a.createElement(l.App,null),document.getElementById("root"))}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvQXBwLnRzeCIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMudHMiLCJ3ZWJwYWNrOi8vLy4vY3JhdGUvcGtnL3NvcnR2aXN1YWxpemVyLmpzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC50c3giXSwibmFtZXMiOlsiUmVhY3QiLCJfX2ltcG9ydFN0YXIiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwicmVhY3RfMSIsIl8iLCJyZWFjdHN0cmFwXzEiLCJ1dGlsc18xIiwic2h1ZmZsZUFycmF5IiwiYXJyIiwibWFwIiwiYSIsIk1hdGgiLCJyYW5kb20iLCJzb3J0IiwiYiIsInJhbmdlIiwic3RhcnQiLCJlbmQiLCJpIiwiZXhwb3J0cyIsIkFwcCIsIkNvbXBvbmVudCIsIltvYmplY3QgT2JqZWN0XSIsInByb3BzIiwic3VwZXIiLCJ0aGlzIiwic29ydExpc3QiLCJzZXRTdGF0ZSIsInJ1bm5pbmciLCJfX2F3YWl0ZXIiLCJhcnJheSIsInN3YXAiLCJydW5fc29ydCIsInN0YXRlIiwic29ydFR5cGUiLCJjb25zb2xlIiwibG9nIiwicHJldiIsInByZXZBcnJheSIsImRlbGF5Iiwic29ydHMiLCJzZWxlY3Rpb24iLCJuIiwiY3JlYXRlRWxlbWVudCIsIkNvbnRhaW5lciIsIlJvdyIsIkNvbCIsIkZvcm0iLCJub0d1dHRlcnMiLCJ4cyIsImNsYXNzTmFtZSIsIkJ1dHRvbiIsImNvbG9yIiwib25DbGljayIsImRpc2FibGVkIiwiSW5wdXQiLCJ0eXBlIiwibmFtZSIsImlkIiwidmFsdWUiLCJvbkNoYW5nZSIsImUiLCJ0YXJnZXQiLCJPYmplY3QiLCJrZXlzIiwicyIsIkxhYmVsIiwiZm9yIiwibWF4IiwibWluIiwic3RlcCIsInZhbHVlQXNOdW1iZXIiLCJzdHlsZSIsImZsZXhHcm93IiwibGlzdCIsImtleSIsImhlaWdodCIsImxlbmd0aCIsIlByb2dyZXNzIiwiaW5kZXhPZiIsImlzRXF1YWwiLCJwa2dfMSIsIm9yaWdpbmFsIiwic29ydF90eXBlIiwibGVuIiwicmVzdWx0IiwiVWludDMyQXJyYXkiLCJzbGljZSIsInNwbGljZSIsImFtb3VudCIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsInIiLCJfX3dlYnBhY2tfZXhwb3J0c19fIiwiZCIsIl9fd2JpbmRnZW5fb2JqZWN0X2Ryb3BfcmVmIiwiX3NvcnR2aXN1YWxpemVyX2JnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18iLCJjYWNoZWdldFVpbnQzMk1lbW9yeSIsImdldFVpbnQzMk1lbW9yeSIsImJ1ZmZlciIsIldBU01fVkVDVE9SX0xFTiIsInBhc3NTdHJpbmdUb1dhc20iLCJjYWNoZWRUZXh0RW5jb2RlciIsIlRleHRFbmNvZGVyIiwiY2FjaGVnZXRVaW50OE1lbW9yeSIsImdldFVpbnQ4TWVtb3J5IiwiVWludDhBcnJheSIsImVuY29kZUludG8iLCJhcmciLCJzaXplIiwicHRyIiwid3JpdGVPZmZzZXQiLCJ2aWV3Iiwic3ViYXJyYXkiLCJyZWFkIiwid3JpdHRlbiIsInN1YnN0cmluZyIsImJ1ZiIsImVuY29kZSIsInNldCIsImNhY2hlZEdsb2JhbEFyZ3VtZW50UHRyIiwicHRyMCIsInBhc3NBcnJheTMyVG9XYXNtIiwibGVuMCIsInB0cjEiLCJsZW4xIiwicmV0cHRyIiwibWVtIiwicnVzdHB0ciIsInJ1c3RsZW4iLCJyZWFsUmV0IiwiaGVhcCIsIkFycmF5IiwiZmlsbCIsInVuZGVmaW5lZCIsInB1c2giLCJoZWFwX25leHQiLCJpZHgiLCJSZWFjdERPTSIsIkFwcF8xIiwicmVuZGVyIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCJdLCJtYXBwaW5ncyI6ImtsQkFBQSxNQUFBQSxFQUFBQyxFQUFBQyxFQUFBLElBQ0FDLEVBQUFELEVBQUEsR0FFQUUsRUFBQUgsRUFBQUMsRUFBQSxLQUNBRyxFQUFBSCxFQUFBLElBQ0FJLEVBQUFKLEVBQUEsSUF5TEEsU0FBU0ssRUFBK0JDLEdBQ3BDLE9BQU9BLEVBQ0ZDLElBQUlDLEdBQUssQ0FBQ0MsS0FB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QUFBLEVBQUFDLEdBQ3hCQyxFQUlBLE1BQUFDLEVBQUEsSUFBQUMsTUFBQSxJQUVBRCxFQUFBRSxVQUFBQyxHQUVBSCxFQUFBSSxVQUFBRCxFQUFBLFlBRUEsSUFBQUUsRUFBQUwsRUFBQXZELE9BUU8sU0FBQW1CLEVBQUE5RSxHQU5QLElBQUF3SCxLQU0rQ3hILEdBTC9DLEtBQ0FrSCxFQUFBTSxHQUFBRCxFQUNBQSxFQUFBQyxvVUN2R0EsTUFBQTFJLEVBQUFDLEVBQUFDLEVBQUEsSUFDQXlJLEVBQUExSSxFQUFBQyxFQUFBLEtBQ0EwSSxFQUFBMUksRUFBQSxJQUVBeUksRUFBU0UsT0FDTDdJLEVBQUEyQyxjQUFDaUcsRUFBQXhILElBQUcsTUFDSjBILFNBQVNDLGVBQWUiLCJmaWxlIjoiMi5ib290c3RyYXAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCdcclxuaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnXHJcbmltcG9ydCBGbGlwTW92ZSBmcm9tICdyZWFjdC1mbGlwLW1vdmUnO1xyXG5pbXBvcnQgKiBhcyBfIGZyb20gXCJsb2Rhc2hcIjtcclxuaW1wb3J0IHsgQ29udGFpbmVyLCBSb3csIENvbCwgUHJvZ3Jlc3MsIEJ1dHRvbiwgRm9ybSwgTGFiZWwsIElucHV0IH0gZnJvbSAncmVhY3RzdHJhcCc7XHJcbmltcG9ydCB7IHJ1bl9zb3J0LCBkZWxheSwgc29ydHMgfSBmcm9tICcuL3V0aWxzJztcclxuaW1wb3J0IEZvcm1Hcm91cCBmcm9tICdyZWFjdHN0cmFwL2xpYi9Gb3JtR3JvdXAnO1xyXG5pbXBvcnQgeyBTb3J0ZXIgfSBmcm9tICcuL2pzbW9kdWxlJztcclxuXHJcbmludGVyZmFjZSBJU3RhdGUge1xyXG4gICAgcHJldkFycmF5OiBudW1iZXJbXSxcclxuICAgIGFycmF5OiBudW1iZXJbXSxcclxuICAgIHN3YXA6IG51bWJlcltdLFxyXG4gICAgc29ydFR5cGU6IHNvcnRzXHJcbiAgICBydW5uaW5nOiBib29sZWFuLFxyXG4gICAgbjogbnVtYmVyLFxyXG4gICAgZGVsYXk6IG51bWJlclxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQXBwIGV4dGVuZHMgQ29tcG9uZW50PHt9LCBJU3RhdGU+e1xyXG4gICAgY29uc3RydWN0b3IocHJvcHM6IFJlYWRvbmx5PHt9Pikge1xyXG4gICAgICAgIHN1cGVyKHByb3BzKVxyXG4gICAgICAgIGNvbnN0IGFycmF5ID0gc2h1ZmZsZUFycmF5KFsuLi5yYW5nZSgxLCAxMSldKTtcclxuICAgICAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICAgICAgICBhcnJheSxcclxuICAgICAgICAgICAgcHJldkFycmF5OiBhcnJheSxcclxuICAgICAgICAgICAgc3dhcDogWy0xLCAtMV0sXHJcbiAgICAgICAgICAgIHNvcnRUeXBlOiBzb3J0cy5zZWxlY3Rpb24sXHJcbiAgICAgICAgICAgIHJ1bm5pbmc6IGZhbHNlLFxyXG4gICAgICAgICAgICBuOiAxMCxcclxuICAgICAgICAgICAgZGVsYXk6IDEwMFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzb3J0TGlzdCA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgcnVubmluZzogdHJ1ZSB9LCBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIGZvcihjb25zdCB7YXJyYXksc3dhcH0gb2YgcnVuX3NvcnQodGhpcy5zdGF0ZS5hcnJheSwgdGhpcy5zdGF0ZS5zb3J0VHlwZSkpe1xyXG4gICAgICAgICAgICAgICAgaWYoIXRoaXMuc3RhdGUucnVubmluZykgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhhcnJheSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHByZXYgPT4gKHtwcmV2QXJyYXk6cHJldi5hcnJheSxhcnJheSxzd2FwfSkpXHJcbiAgICAgICAgICAgICAgICBhd2FpdCBkZWxheSh0aGlzLnN0YXRlLmRlbGF5KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe3J1bm5pbmc6IGZhbHNlLHN3YXA6Wy0xLC0xXX0pXHJcbiAgICAgICAgfSlcclxuICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIDxDb250YWluZXI+XHJcbiAgICAgICAgICAgIDxSb3c+XHJcbiAgICAgICAgICAgICAgICA8Q29sPlxyXG4gICAgICAgICAgICAgICAgICAgIDxGb3JtPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8Um93IG5vR3V0dGVycz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDb2wgeHM9ezF9IGNsYXNzTmFtZT1cInRleHQtcmlnaHRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yPVwiaW5mb1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHRoaXMuc2V0U3RhdGUoKHsgbiB9KSA9PiAoeyBhcnJheTogc2h1ZmZsZUFycmF5KFsuLi5yYW5nZSgxLCBuICsgMSldKSB9KSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLnJ1bm5pbmd9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlNodWZmbGU8L0J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQ29sPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPENvbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInNlbGVjdFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJzZWxlY3RcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD1cImV4YW1wbGVTZWxlY3RcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5zb3J0VHlwZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlOiBSZWFjdC5DaGFuZ2VFdmVudDxIVE1MSW5wdXRFbGVtZW50PikgPT4gdGhpcy5zZXRTdGF0ZSh7IHNvcnRUeXBlOiBlLnRhcmdldC52YWx1ZSBhcyBzb3J0cyB9KX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUucnVubmluZ31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtPYmplY3Qua2V5cyhzb3J0cykubWFwKHMgPT4gPG9wdGlvbiB2YWx1ZT17c30+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9vcHRpb24+KX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0lucHV0PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Db2w+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q29sIHhzPXsxfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yPVwic3VjY2Vzc1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc29ydExpc3QoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUucnVubmluZ31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+U29ydDwvQnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Db2w+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q29sIHhzPXsxfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yPVwiZGFuZ2VyXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gdGhpcy5zZXRTdGF0ZSh7cnVubmluZzpmYWxzZX0pfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17IXRoaXMuc3RhdGUucnVubmluZ31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+U3RvcDwvQnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Db2w+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L1Jvdz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPFJvdyBub0d1dHRlcnM+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q29sIHhzPXsxfSBjbGFzc05hbWU9XCJ0ZXh0LXJpZ2h0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIGZvcj1cIm5yYW5nZVwiPkxlbmd0aDo8L0xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Db2w+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q29sPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD1cIm5yYW5nZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJucmFuZ2VcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjdXN0b20tcmFuZ2VcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwicmFuZ2VcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXg9ezEwMH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluPXsxfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGVwPXsxfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5ufVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5ydW5uaW5nfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGU6IFJlYWN0LkNoYW5nZUV2ZW50PEhUTUxJbnB1dEVsZW1lbnQ+KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbiA9IGUudGFyZ2V0LnZhbHVlQXNOdW1iZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG4sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJyYXk6IHNodWZmbGVBcnJheShbLi4ucmFuZ2UoMSwgbiArIDEpXSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQ29sPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPENvbCB4cz17MX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJudW1iZXJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5ufVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5ydW5uaW5nfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGU6IFJlYWN0LkNoYW5nZUV2ZW50PEhUTUxJbnB1dEVsZW1lbnQ+KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbiA9IGUudGFyZ2V0LnZhbHVlQXNOdW1iZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG4sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJyYXk6IHNodWZmbGVBcnJheShbLi4ucmFuZ2UoMSwgbiArIDEpXSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQ29sPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L1Jvdz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPFJvdyBub0d1dHRlcnM+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q29sIHhzPXsxfSBjbGFzc05hbWU9XCJ0ZXh0LXJpZ2h0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIGZvcj1cIm5kZWxheVwiPkRlbGF5OjwvTGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0NvbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDb2w+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPVwibmRlbGF5XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm5kZWxheVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImN1c3RvbS1yYW5nZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJyYW5nZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heD17MTAwMH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluPXswfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGVwPXsxfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5kZWxheX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUucnVubmluZ31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlOiBSZWFjdC5DaGFuZ2VFdmVudDxIVE1MSW5wdXRFbGVtZW50PikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRlbGF5ID0gZS50YXJnZXQudmFsdWVBc051bWJlclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGRlbGF5IH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQ29sPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPENvbCB4cz17MX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJudW1iZXJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5kZWxheX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUucnVubmluZ31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlOiBSZWFjdC5DaGFuZ2VFdmVudDxIVE1MSW5wdXRFbGVtZW50PikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRlbGF5ID0gZS50YXJnZXQudmFsdWVBc051bWJlclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGRlbGF5IH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQ29sPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L1Jvdz5cclxuICAgICAgICAgICAgICAgICAgICA8L0Zvcm0+XHJcbiAgICAgICAgICAgICAgICA8L0NvbD5cclxuICAgICAgICAgICAgPC9Sb3c+XHJcblxyXG4gICAgICAgICAgICA8Um93IHN0eWxlPXt7IGZsZXhHcm93OiAxIH19PlxyXG4gICAgICAgICAgICAgICAgPENvbD5cclxuICAgICAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5hcnJheS5tYXAoKG4sIGksIGxpc3QpID0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxSb3dcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17bn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGhlaWdodDogYCR7MTAwICogMS4wIC8gbGlzdC5sZW5ndGh9JWAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPENvbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8UHJvZ3Jlc3NcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgaGVpZ2h0OiBgMTAwJWAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I9eyh0aGlzLnN0YXRlLnN3YXAuaW5kZXhPZihpKSA+PSAwKT8oXy5pc0VxdWFsKHRoaXMuc3RhdGUucHJldkFycmF5LHRoaXMuc3RhdGUuYXJyYXkpKT9cInN1Y2Nlc3NcIjogXCJkYW5nZXJcIiA6IFwiaW5mb1wifVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17KDEwMCAqIG4gKiAxLjAgLyBsaXN0Lmxlbmd0aCl9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0NvbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Sb3c+XHJcbiAgICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgIDwvQ29sPlxyXG4gICAgICAgICAgICA8L1Jvdz5cclxuXHJcbiAgICAgICAgPC9Db250YWluZXI+XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNodWZmbGVBcnJheTxUIGV4dGVuZHMgbnVtYmVyPihhcnI6IFRbXSkge1xyXG4gICAgcmV0dXJuIGFyclxyXG4gICAgICAgIC5tYXAoYSA9PiBbTWF0aC5yYW5kb20oKSwgYV0pXHJcbiAgICAgICAgLnNvcnQoKGEsIGIpID0+IGFbMF0gLSBiWzBdKVxyXG4gICAgICAgIC5tYXAoYSA9PiBhWzFdKTtcclxufVxyXG5mdW5jdGlvbiogcmFuZ2Uoc3RhcnQ6IG51bWJlciwgZW5kOiBudW1iZXIpOiBJdGVyYWJsZUl0ZXJhdG9yPG51bWJlcj4ge1xyXG4gICAgZm9yIChsZXQgaSA9IHN0YXJ0OyBpIDwgZW5kOyBpKyspIHtcclxuICAgICAgICB5aWVsZCBpO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7c29ydCx9IGZyb20gXCIuLi9jcmF0ZS9wa2dcIlxyXG5cclxuZXhwb3J0IGVudW0gc29ydHN7XHJcbiAgICBxdWljayA9IFwicXVpY2tcIixcclxuICAgIHNlbGVjdGlvbiA9IFwic2VsZWN0aW9uXCIsXHJcbiAgICBpbnNlcnRpb24gPSBcImluc2VydGlvblwiLFxyXG4gICAgbWVyZ2UgPSBcIm1lcmdlXCIsXHJcbiAgICBnbm9tZSA9IFwiZ25vbWVcIixcclxuICAgIGhlYXAgPSBcImhlYXBcIixcclxuICAgIGJ1YmJsZSA9IFwiYnViYmxlXCIsXHJcbiAgICBjb2NrdGFpbCA9IFwiY29ja3RhaWxcIlxyXG59XHJcblxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uKiBydW5fc29ydChvcmlnaW5hbDogbnVtYmVyW10sIHNvcnRfdHlwZTogc29ydHMpIHtcclxuICAgIGNvbnN0IGxlbiA9IG9yaWdpbmFsLmxlbmd0aCsyO1xyXG4gICAgY29uc3QgcmVzdWx0ID0gc29ydChuZXcgVWludDMyQXJyYXkob3JpZ2luYWwpLCBzb3J0X3R5cGUpO1xyXG4gICAgY29uc29sZS5sb2coXCJnb3QgYXJyYXlcIilcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVzdWx0Lmxlbmd0aCAvIGxlbjsgaSsrKSB7XHJcbiAgICAgICAgbGV0IGFycmF5ID0gWy4uLnJlc3VsdC5zbGljZShpKmxlbiwoaSsxKSpsZW4pXTtcclxuICAgICAgICBsZXQgc3dhcCA9IGFycmF5LnNwbGljZShhcnJheS5sZW5ndGgtMiwyKTtcclxuICAgICAgICB5aWVsZCB7XHJcbiAgICAgICAgICAgIGFycmF5LFxyXG4gICAgICAgICAgICBzd2FwXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgZGVsYXkgPSAoYW1vdW50IDogbnVtYmVyKSA9PiB7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcclxuICAgICAgc2V0VGltZW91dChyZXNvbHZlLCBhbW91bnQpO1xyXG4gICAgfSk7XHJcbn0iLCJpbXBvcnQgKiBhcyB3YXNtIGZyb20gJy4vc29ydHZpc3VhbGl6ZXJfYmcnO1xuXG5sZXQgY2FjaGVnZXRVaW50MzJNZW1vcnkgPSBudWxsO1xuZnVuY3Rpb24gZ2V0VWludDMyTWVtb3J5KCkge1xuICAgIGlmIChjYWNoZWdldFVpbnQzMk1lbW9yeSA9PT0gbnVsbCB8fCBjYWNoZWdldFVpbnQzMk1lbW9yeS5idWZmZXIgIT09IHdhc20ubWVtb3J5LmJ1ZmZlcikge1xuICAgICAgICBjYWNoZWdldFVpbnQzMk1lbW9yeSA9IG5ldyBVaW50MzJBcnJheSh3YXNtLm1lbW9yeS5idWZmZXIpO1xuICAgIH1cbiAgICByZXR1cm4gY2FjaGVnZXRVaW50MzJNZW1vcnk7XG59XG5cbmxldCBXQVNNX1ZFQ1RPUl9MRU4gPSAwO1xuXG5mdW5jdGlvbiBwYXNzQXJyYXkzMlRvV2FzbShhcmcpIHtcbiAgICBjb25zdCBwdHIgPSB3YXNtLl9fd2JpbmRnZW5fbWFsbG9jKGFyZy5sZW5ndGggKiA0KTtcbiAgICBnZXRVaW50MzJNZW1vcnkoKS5zZXQoYXJnLCBwdHIgLyA0KTtcbiAgICBXQVNNX1ZFQ1RPUl9MRU4gPSBhcmcubGVuZ3RoO1xuICAgIHJldHVybiBwdHI7XG59XG5cbmxldCBjYWNoZWRUZXh0RW5jb2RlciA9IG5ldyBUZXh0RW5jb2RlcigndXRmLTgnKTtcblxubGV0IGNhY2hlZ2V0VWludDhNZW1vcnkgPSBudWxsO1xuZnVuY3Rpb24gZ2V0VWludDhNZW1vcnkoKSB7XG4gICAgaWYgKGNhY2hlZ2V0VWludDhNZW1vcnkgPT09IG51bGwgfHwgY2FjaGVnZXRVaW50OE1lbW9yeS5idWZmZXIgIT09IHdhc20ubWVtb3J5LmJ1ZmZlcikge1xuICAgICAgICBjYWNoZWdldFVpbnQ4TWVtb3J5ID0gbmV3IFVpbnQ4QXJyYXkod2FzbS5tZW1vcnkuYnVmZmVyKTtcbiAgICB9XG4gICAgcmV0dXJuIGNhY2hlZ2V0VWludDhNZW1vcnk7XG59XG5cbmxldCBwYXNzU3RyaW5nVG9XYXNtO1xuaWYgKHR5cGVvZiBjYWNoZWRUZXh0RW5jb2Rlci5lbmNvZGVJbnRvID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcGFzc1N0cmluZ1RvV2FzbSA9IGZ1bmN0aW9uKGFyZykge1xuXG4gICAgICAgIGxldCBzaXplID0gYXJnLmxlbmd0aDtcbiAgICAgICAgbGV0IHB0ciA9IHdhc20uX193YmluZGdlbl9tYWxsb2Moc2l6ZSk7XG4gICAgICAgIGxldCB3cml0ZU9mZnNldCA9IDA7XG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICBjb25zdCB2aWV3ID0gZ2V0VWludDhNZW1vcnkoKS5zdWJhcnJheShwdHIgKyB3cml0ZU9mZnNldCwgcHRyICsgc2l6ZSk7XG4gICAgICAgICAgICBjb25zdCB7IHJlYWQsIHdyaXR0ZW4gfSA9IGNhY2hlZFRleHRFbmNvZGVyLmVuY29kZUludG8oYXJnLCB2aWV3KTtcbiAgICAgICAgICAgIHdyaXRlT2Zmc2V0ICs9IHdyaXR0ZW47XG4gICAgICAgICAgICBpZiAocmVhZCA9PT0gYXJnLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXJnID0gYXJnLnN1YnN0cmluZyhyZWFkKTtcbiAgICAgICAgICAgIHB0ciA9IHdhc20uX193YmluZGdlbl9yZWFsbG9jKHB0ciwgc2l6ZSwgc2l6ZSArPSBhcmcubGVuZ3RoICogMyk7XG4gICAgICAgIH1cbiAgICAgICAgV0FTTV9WRUNUT1JfTEVOID0gd3JpdGVPZmZzZXQ7XG4gICAgICAgIHJldHVybiBwdHI7XG4gICAgfTtcbn0gZWxzZSB7XG4gICAgcGFzc1N0cmluZ1RvV2FzbSA9IGZ1bmN0aW9uKGFyZykge1xuXG4gICAgICAgIGNvbnN0IGJ1ZiA9IGNhY2hlZFRleHRFbmNvZGVyLmVuY29kZShhcmcpO1xuICAgICAgICBjb25zdCBwdHIgPSB3YXNtLl9fd2JpbmRnZW5fbWFsbG9jKGJ1Zi5sZW5ndGgpO1xuICAgICAgICBnZXRVaW50OE1lbW9yeSgpLnNldChidWYsIHB0cik7XG4gICAgICAgIFdBU01fVkVDVE9SX0xFTiA9IGJ1Zi5sZW5ndGg7XG4gICAgICAgIHJldHVybiBwdHI7XG4gICAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0QXJyYXlVMzJGcm9tV2FzbShwdHIsIGxlbikge1xuICAgIHJldHVybiBnZXRVaW50MzJNZW1vcnkoKS5zdWJhcnJheShwdHIgLyA0LCBwdHIgLyA0ICsgbGVuKTtcbn1cblxubGV0IGNhY2hlZEdsb2JhbEFyZ3VtZW50UHRyID0gbnVsbDtcbmZ1bmN0aW9uIGdsb2JhbEFyZ3VtZW50UHRyKCkge1xuICAgIGlmIChjYWNoZWRHbG9iYWxBcmd1bWVudFB0ciA9PT0gbnVsbCkge1xuICAgICAgICBjYWNoZWRHbG9iYWxBcmd1bWVudFB0ciA9IHdhc20uX193YmluZGdlbl9nbG9iYWxfYXJndW1lbnRfcHRyKCk7XG4gICAgfVxuICAgIHJldHVybiBjYWNoZWRHbG9iYWxBcmd1bWVudFB0cjtcbn1cbi8qKlxuKiBAcGFyYW0ge1VpbnQzMkFycmF5fSBhcnJheVxuKiBAcGFyYW0ge3N0cmluZ30gc29ydF90eXBlXG4qIEByZXR1cm5zIHtVaW50MzJBcnJheX1cbiovXG5leHBvcnQgZnVuY3Rpb24gc29ydChhcnJheSwgc29ydF90eXBlKSB7XG4gICAgY29uc3QgcHRyMCA9IHBhc3NBcnJheTMyVG9XYXNtKGFycmF5KTtcbiAgICBjb25zdCBsZW4wID0gV0FTTV9WRUNUT1JfTEVOO1xuICAgIGNvbnN0IHB0cjEgPSBwYXNzU3RyaW5nVG9XYXNtKHNvcnRfdHlwZSk7XG4gICAgY29uc3QgbGVuMSA9IFdBU01fVkVDVE9SX0xFTjtcbiAgICBjb25zdCByZXRwdHIgPSBnbG9iYWxBcmd1bWVudFB0cigpO1xuICAgIHdhc20uc29ydChyZXRwdHIsIHB0cjAsIGxlbjAsIHB0cjEsIGxlbjEpO1xuICAgIGNvbnN0IG1lbSA9IGdldFVpbnQzMk1lbW9yeSgpO1xuICAgIGNvbnN0IHJ1c3RwdHIgPSBtZW1bcmV0cHRyIC8gNF07XG4gICAgY29uc3QgcnVzdGxlbiA9IG1lbVtyZXRwdHIgLyA0ICsgMV07XG5cbiAgICBjb25zdCByZWFsUmV0ID0gZ2V0QXJyYXlVMzJGcm9tV2FzbShydXN0cHRyLCBydXN0bGVuKS5zbGljZSgpO1xuICAgIHdhc20uX193YmluZGdlbl9mcmVlKHJ1c3RwdHIsIHJ1c3RsZW4gKiA0KTtcbiAgICByZXR1cm4gcmVhbFJldDtcblxufVxuXG5jb25zdCBoZWFwID0gbmV3IEFycmF5KDMyKTtcblxuaGVhcC5maWxsKHVuZGVmaW5lZCk7XG5cbmhlYXAucHVzaCh1bmRlZmluZWQsIG51bGwsIHRydWUsIGZhbHNlKTtcblxubGV0IGhlYXBfbmV4dCA9IGhlYXAubGVuZ3RoO1xuXG5mdW5jdGlvbiBkcm9wT2JqZWN0KGlkeCkge1xuICAgIGlmIChpZHggPCAzNikgcmV0dXJuO1xuICAgIGhlYXBbaWR4XSA9IGhlYXBfbmV4dDtcbiAgICBoZWFwX25leHQgPSBpZHg7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3diaW5kZ2VuX29iamVjdF9kcm9wX3JlZihpKSB7IGRyb3BPYmplY3QoaSk7IH1cblxuIiwiXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCdcbmltcG9ydCAqIGFzIFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7XG5pbXBvcnQgeyBBcHAgfSBmcm9tIFwiLi9BcHBcIjtcblxuUmVhY3RET00ucmVuZGVyKFxuICAgIDxBcHAvPixcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncm9vdCcpIGFzIEhUTUxFbGVtZW50XG4gICk7XG4iXSwic291cmNlUm9vdCI6IiJ9