(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{27:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(a,s){function l(e){try{i(r.next(e))}catch(e){s(e)}}function o(e){try{i(r.throw(e))}catch(e){s(e)}}function i(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(l,o)}i((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const a=n(7),s=n(7),l=n(28),o=n(52),i=n(49);function u(e){return e.map(e=>[Math.random(),e]).sort((e,t)=>e[0]-t[0]).map(e=>e[1])}function*c(e,t){for(let n=e;n<t;n++)yield n}t.App=class extends s.Component{constructor(e){super(e),this.sortList=(()=>{this.setState({running:!0},()=>r(this,void 0,void 0,function*(){for(const{array:e,swap:t}of i.run_sort(this.state.array,this.state.sortType)){if(!this.state.running)break;console.log(e),this.setState(n=>({prevArray:n.array,array:e,swap:t})),yield i.delay(this.state.delay)}this.setState({running:!1,swap:[-1,-1]})}))});const t=u([...c(1,11)]);this.state={array:t,prevArray:t,swap:[-1,-1],sortType:i.sorts.selection,running:!1,n:10,delay:100}}render(){return a.createElement(o.Container,null,a.createElement(o.Row,null,a.createElement(o.Col,null,a.createElement(o.Form,null,a.createElement(o.Row,{noGutters:!0},a.createElement(o.Col,{xs:1,className:"text-right"},a.createElement(o.Button,{color:"info",onClick:()=>this.setState(({n:e})=>({array:u([...c(1,e+1)])})),disabled:this.state.running},"Shuffle")),a.createElement(o.Col,null,a.createElement(o.Input,{type:"select",name:"select",id:"exampleSelect",value:this.state.sortType,onChange:e=>this.setState({sortType:e.target.value}),disabled:this.state.running},Object.keys(i.sorts).map(e=>a.createElement("option",{value:e},e)))),a.createElement(o.Col,{xs:1},a.createElement(o.Button,{color:"success",onClick:()=>{this.sortList()},disabled:this.state.running},"Sort")),a.createElement(o.Col,{xs:1},a.createElement(o.Button,{color:"danger",onClick:()=>this.setState({running:!1}),disabled:!this.state.running},"Stop"))),a.createElement(o.Row,{noGutters:!0},a.createElement(o.Col,{xs:1,className:"text-right"},a.createElement(o.Label,{for:"nrange"},"Length:")),a.createElement(o.Col,null,a.createElement(o.Input,{id:"nrange",name:"nrange",className:"custom-range",type:"range",max:100,min:1,step:1,value:this.state.n,disabled:this.state.running,onChange:e=>{let t=e.target.valueAsNumber;this.setState({n:t,array:u([...c(1,t+1)])})}})),a.createElement(o.Col,{xs:1},a.createElement(o.Input,{type:"number",value:this.state.n,disabled:this.state.running,onChange:e=>{let t=e.target.valueAsNumber;this.setState({n:t,array:u([...c(1,t+1)])})}}))),a.createElement(o.Row,{noGutters:!0},a.createElement(o.Col,{xs:1,className:"text-right"},a.createElement(o.Label,{for:"ndelay"},"Delay:")),a.createElement(o.Col,null,a.createElement(o.Input,{id:"ndelay",name:"ndelay",className:"custom-range",type:"range",max:1e3,min:0,step:1,value:this.state.delay,disabled:this.state.running,onChange:e=>{let t=e.target.valueAsNumber;this.setState({delay:t})}})),a.createElement(o.Col,{xs:1},a.createElement(o.Input,{type:"number",value:this.state.delay,disabled:this.state.running,onChange:e=>{let t=e.target.valueAsNumber;this.setState({delay:t})}})))))),a.createElement(o.Row,{style:{flexGrow:1}},a.createElement(o.Col,null,this.state.array.map((e,t,n)=>a.createElement(o.Row,{key:e,style:{height:`${100/n.length}%`}},a.createElement(o.Col,null,a.createElement(o.Progress,{style:{height:"100%"},color:this.state.swap.indexOf(t)>=0?l.isEqual(this.state.prevArray,this.state.array)?"success":"danger":"info",value:100*e*1/n.length})))))))}}},49:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(50);!function(e){e.quick="quick",e.selection="selection",e.insertion="insertion",e.merge="merge",e.gnome="gnome",e.heap="heap",e.bubble="bubble",e.cocktail="cocktail"}(t.sorts||(t.sorts={})),t.run_sort=function*(e,t){const n=e.length+2,a=r.sort(new Uint32Array(e),t);console.log("got array");for(let e=0;e<a.length/n;e++){let t=[...a.slice(e*n,(e+1)*n)],r=t.splice(t.length-2,2);yield{array:t,swap:r}}},t.delay=(e=>new Promise(t=>{setTimeout(t,e)}))},50:function(e,t,n){"use strict";n.r(t),n.d(t,"sort",function(){return m}),n.d(t,"__wbindgen_object_drop_ref",function(){return f});var r=n(51);let a=null;function s(){return null!==a&&a.buffer===r.e.buffer||(a=new Uint32Array(r.e.buffer)),a}let l=0;let o,i=new TextEncoder("utf-8"),u=null;function c(){return null!==u&&u.buffer===r.e.buffer||(u=new Uint8Array(r.e.buffer)),u}o="function"==typeof i.encodeInto?function(e){let t=e.length,n=r.c(t),a=0;for(;;){const s=c().subarray(n+a,n+t),{read:l,written:o}=i.encodeInto(e,s);if(a+=o,l===e.length)break;e=e.substring(l),n=r.d(n,t,t+=3*e.length)}return l=a,n}:function(e){const t=i.encode(e),n=r.c(t.length);return c().set(t,n),l=t.length,n};let h=null;function m(e,t){const n=function(e){const t=r.c(4*e.length);return s().set(e,t/4),l=e.length,t}(e),a=l,i=o(t),u=l,c=(null===h&&(h=r.b()),h);r.f(c,n,a,i,u);const m=s(),d=m[c/4],g=m[c/4+1],f=(y=d,p=g,s().subarray(y/4,y/4+p)).slice();var y,p;return r.a(d,4*g),f}const d=new Array(32);d.fill(void 0),d.push(void 0,null,!0,!1);let g=d.length;function f(e){var t;(t=e)<36||(d[t]=g,g=t)}},51:function(e,t,n){"use strict";var r=n.w[e.i];e.exports=r,r.g()},6:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(7),a=n(10),s=n(27);a.render(r.createElement(s.App,null),document.getElementById("root"))}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvQXBwLnRzeCIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMudHMiLCJ3ZWJwYWNrOi8vLy4uL3BrZy9zb3J0dmlzdWFsaXplci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXgudHN4Il0sIm5hbWVzIjpbIlJlYWN0IiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsInJlYWN0XzEiLCJfIiwicmVhY3RzdHJhcF8xIiwidXRpbHNfMSIsInNodWZmbGVBcnJheSIsImFyciIsIm1hcCIsImEiLCJNYXRoIiwicmFuZG9tIiwic29ydCIsImIiLCJyYW5nZSIsInN0YXJ0IiwiZW5kIiwiaSIsImV4cG9ydHMiLCJBcHAiLCJDb21wb25lbnQiLCJbb2JqZWN0IE9iamVjdF0iLCJwcm9wcyIsInN1cGVyIiwidGhpcyIsInNvcnRMaXN0Iiwic2V0U3RhdGUiLCJydW5uaW5nIiwiX19hd2FpdGVyIiwiYXJyYXkiLCJzd2FwIiwicnVuX3NvcnQiLCJzdGF0ZSIsInNvcnRUeXBlIiwiY29uc29sZSIsImxvZyIsInByZXYiLCJwcmV2QXJyYXkiLCJkZWxheSIsInNvcnRzIiwic2VsZWN0aW9uIiwibiIsImNyZWF0ZUVsZW1lbnQiLCJDb250YWluZXIiLCJSb3ciLCJDb2wiLCJGb3JtIiwibm9HdXR0ZXJzIiwieHMiLCJjbGFzc05hbWUiLCJCdXR0b24iLCJjb2xvciIsIm9uQ2xpY2siLCJkaXNhYmxlZCIsIklucHV0IiwidHlwZSIsIm5hbWUiLCJpZCIsInZhbHVlIiwib25DaGFuZ2UiLCJlIiwidGFyZ2V0IiwiT2JqZWN0Iiwia2V5cyIsInMiLCJMYWJlbCIsImZvciIsIm1heCIsIm1pbiIsInN0ZXAiLCJ2YWx1ZUFzTnVtYmVyIiwic3R5bGUiLCJmbGV4R3JvdyIsImxpc3QiLCJrZXkiLCJoZWlnaHQiLCJsZW5ndGgiLCJQcm9ncmVzcyIsImluZGV4T2YiLCJpc0VxdWFsIiwic29ydHZpc3VhbGl6ZXJfMSIsIm9yaWdpbmFsIiwic29ydF90eXBlIiwibGVuIiwicmVzdWx0IiwiVWludDMyQXJyYXkiLCJzbGljZSIsInNwbGljZSIsImFtb3VudCIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsInIiLCJfX3dlYnBhY2tfZXhwb3J0c19fIiwiZCIsIl9fd2JpbmRnZW5fb2JqZWN0X2Ryb3BfcmVmIiwiX3NvcnR2aXN1YWxpemVyX2JnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18iLCJjYWNoZWdldFVpbnQzMk1lbW9yeSIsImdldFVpbnQzMk1lbW9yeSIsImJ1ZmZlciIsIldBU01fVkVDVE9SX0xFTiIsInBhc3NTdHJpbmdUb1dhc20iLCJjYWNoZWRUZXh0RW5jb2RlciIsIlRleHRFbmNvZGVyIiwiY2FjaGVnZXRVaW50OE1lbW9yeSIsImdldFVpbnQ4TWVtb3J5IiwiVWludDhBcnJheSIsImVuY29kZUludG8iLCJhcmciLCJzaXplIiwicHRyIiwid3JpdGVPZmZzZXQiLCJ2aWV3Iiwic3ViYXJyYXkiLCJyZWFkIiwid3JpdHRlbiIsInN1YnN0cmluZyIsImJ1ZiIsImVuY29kZSIsInNldCIsImNhY2hlZEdsb2JhbEFyZ3VtZW50UHRyIiwicHRyMCIsInBhc3NBcnJheTMyVG9XYXNtIiwibGVuMCIsInB0cjEiLCJsZW4xIiwicmV0cHRyIiwibWVtIiwicnVzdHB0ciIsInJ1c3RsZW4iLCJyZWFsUmV0IiwiaGVhcCIsIkFycmF5IiwiZmlsbCIsInVuZGVmaW5lZCIsInB1c2giLCJoZWFwX25leHQiLCJpZHgiLCJSZWFjdERPTSIsIkFwcF8xIiwicmVuZGVyIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCJdLCJtYXBwaW5ncyI6InlhQUFBLE1BQUFBLEVBQUFDLEVBQUEsR0FDQUMsRUFBQUQsRUFBQSxHQUVBRSxFQUFBRixFQUFBLElBQ0FHLEVBQUFILEVBQUEsSUFDQUksRUFBQUosRUFBQSxJQXlMQSxTQUFTSyxFQUErQkMsR0FDcEMsT0FBT0EsRUFDRkMsSUFBSUMsR0FBSyxDQUFDQyxLQUFLQyxTQUFVRixJQUN6QkcsS0FBSyxDQUFDSCxFQUFHSSxJQUFNSixFQUFFLEdBQUtJLEVBQUUsSUFDeEJMLElBQUlDLEdBQUtBLEVBQUUsSUFFcEIsU0FBVUssRUFBTUMsRUFBZUMsR0FDM0IsSUFBSyxJQUFJQyxFQUFJRixFQUFPRSxFQUFJRCxFQUFLQyxVQUNuQkEsRUFuTGRDLEVBQUFDLElBQUEsY0FBeUJqQixFQUFBa0IsVUFDckJDLFlBQVlDLEdBQ1JDLE1BQU1ELEdBYVZFLEtBQUFDLFNBQVcsTUFDUEQsS0FBS0UsU0FBUyxDQUFFQyxTQUFTLEdBQVEsSUFBV0MsRUFBQUosVUFBQSxxQkFDeEMsSUFBSSxNQUFNSyxNQUFDQSxFQUFLQyxLQUFDQSxLQUFTekIsRUFBQTBCLFNBQVNQLEtBQUtRLE1BQU1ILE1BQU9MLEtBQUtRLE1BQU1DLFVBQVUsQ0FDdEUsSUFBSVQsS0FBS1EsTUFBTUwsUUFBUyxNQUN4Qk8sUUFBUUMsSUFBSU4sR0FDWkwsS0FBS0UsU0FBU1UsSUFBUSxDQUFFQyxVQUFVRCxFQUFLUCxNQUFNQSxRQUFNQyxnQkFDN0N6QixFQUFBaUMsTUFBTWQsS0FBS1EsTUFBTU0sT0FFM0JkLEtBQUtFLFNBQVMsQ0FBQ0MsU0FBUyxFQUFNRyxLQUFLLEVBQUUsR0FBRyxVQXBCNUMsTUFBTUQsRUFBUXZCLEVBQWEsSUFBSVEsRUFBTSxFQUFHLE1BQ3hDVSxLQUFLUSxNQUFRLENBQ1RILFFBQ0FRLFVBQVdSLEVBQ1hDLEtBQU0sRUFBRSxHQUFJLEdBQ1pHLFNBQVU1QixFQUFBa0MsTUFBTUMsVUFDaEJiLFNBQVMsRUFDVGMsRUFBRyxHQUNISCxNQUFPLEtBaUJmakIsU0FDSSxPQUFPckIsRUFBQTBDLGNBQUN0QyxFQUFBdUMsVUFBUyxLQUNiM0MsRUFBQTBDLGNBQUN0QyxFQUFBd0MsSUFBRyxLQUNBNUMsRUFBQTBDLGNBQUN0QyxFQUFBeUMsSUFBRyxLQUNBN0MsRUFBQTBDLGNBQUN0QyxFQUFBMEMsS0FBSSxLQUNEOUMsRUFBQTBDLGNBQUN0QyxFQUFBd0MsSUFBRyxDQUFDRyxXQUFTLEdBQ1YvQyxFQUFBMEMsY0FBQ3RDLEVBQUF5QyxJQUFHLENBQUNHLEdBQUksRUFBR0MsVUFBVSxjQUNsQmpELEVBQUEwQyxjQUFDdEMsRUFBQThDLE9BQU0sQ0FDSEMsTUFBTSxPQUNOQyxRQUFTLElBQU01QixLQUFLRSxTQUFTLEVBQUdlLFFBQVEsQ0FBR1osTUFBT3ZCLEVBQWEsSUFBSVEsRUFBTSxFQUFHMkIsRUFBSSxRQUNoRlksU0FBVTdCLEtBQUtRLE1BQU1MLFNBQU8sWUFHcEMzQixFQUFBMEMsY0FBQ3RDLEVBQUF5QyxJQUFHLEtBQ0E3QyxFQUFBMEMsY0FBQ3RDLEVBQUFrRCxNQUFLLENBQ0ZDLEtBQUssU0FDTEMsS0FBSyxTQUNMQyxHQUFHLGdCQUNIQyxNQUFPbEMsS0FBS1EsTUFBTUMsU0FDbEIwQixTQUFXQyxHQUEyQ3BDLEtBQUtFLFNBQVMsQ0FBRU8sU0FBVTJCLEVBQUVDLE9BQU9ILFFBQ3pGTCxTQUFVN0IsS0FBS1EsTUFBTUwsU0FFcEJtQyxPQUFPQyxLQUFLMUQsRUFBQWtDLE9BQU8vQixJQUFJd0QsR0FBS2hFLEVBQUEwQyxjQUFBLFVBQVFnQixNQUFPTSxHQUN2Q0EsTUFJYmhFLEVBQUEwQyxjQUFDdEMsRUFBQXlDLElBQUcsQ0FBQ0csR0FBSSxHQUNMaEQsRUFBQTBDLGNBQUN0QyxFQUFBOEMsT0FBTSxDQUNIQyxNQUFNLFVBQ05DLFFBQVMsS0FDTDVCLEtBQUtDLFlBRVQ0QixTQUFVN0IsS0FBS1EsTUFBTUwsU0FBTyxTQUdwQzNCLEVBQUEwQyxjQUFDdEMsRUFBQXlDLElBQUcsQ0FBQ0csR0FBSSxHQUNMaEQsRUFBQTBDLGNBQUN0QyxFQUFBOEMsT0FBTSxDQUNIQyxNQUFNLFNBQ05DLFFBQVMsSUFBTTVCLEtBQUtFLFNBQVMsQ0FBQ0MsU0FBUSxJQUN0QzBCLFVBQVc3QixLQUFLUSxNQUFNTCxTQUFPLFVBS3pDM0IsRUFBQTBDLGNBQUN0QyxFQUFBd0MsSUFBRyxDQUFDRyxXQUFTLEdBQ1YvQyxFQUFBMEMsY0FBQ3RDLEVBQUF5QyxJQUFHLENBQUNHLEdBQUksRUFBR0MsVUFBVSxjQUNsQmpELEVBQUEwQyxjQUFDdEMsRUFBQTZELE1BQUssQ0FBQ0MsSUFBSSxVQUFRLFlBRXZCbEUsRUFBQTBDLGNBQUN0QyxFQUFBeUMsSUFBRyxLQUNBN0MsRUFBQTBDLGNBQUN0QyxFQUFBa0QsTUFBSyxDQUNGRyxHQUFHLFNBQ0hELEtBQUssU0FDTFAsVUFBVSxlQUNWTSxLQUFLLFFBQ0xZLElBQUssSUFDTEMsSUFBSyxFQUNMQyxLQUFNLEVBQ05YLE1BQU9sQyxLQUFLUSxNQUFNUyxFQUNsQlksU0FBVTdCLEtBQUtRLE1BQU1MLFFBQ3JCZ0MsU0FBV0MsSUFDUCxJQUFJbkIsRUFBSW1CLEVBQUVDLE9BQU9TLGNBQ2pCOUMsS0FBS0UsU0FBUyxDQUNWZSxJQUNBWixNQUFPdkIsRUFBYSxJQUFJUSxFQUFNLEVBQUcyQixFQUFJLFdBS3JEekMsRUFBQTBDLGNBQUN0QyxFQUFBeUMsSUFBRyxDQUFDRyxHQUFJLEdBQ0xoRCxFQUFBMEMsY0FBQ3RDLEVBQUFrRCxNQUFLLENBQ0ZDLEtBQUssU0FDTEcsTUFBT2xDLEtBQUtRLE1BQU1TLEVBQ2xCWSxTQUFVN0IsS0FBS1EsTUFBTUwsUUFDckJnQyxTQUFXQyxJQUNQLElBQUluQixFQUFJbUIsRUFBRUMsT0FBT1MsY0FDakI5QyxLQUFLRSxTQUFTLENBQ1ZlLElBQ0FaLE1BQU92QixFQUFhLElBQUlRLEVBQU0sRUFBRzJCLEVBQUksWUFNekR6QyxFQUFBMEMsY0FBQ3RDLEVBQUF3QyxJQUFHLENBQUNHLFdBQVMsR0FDVi9DLEVBQUEwQyxjQUFDdEMsRUFBQXlDLElBQUcsQ0FBQ0csR0FBSSxFQUFHQyxVQUFVLGNBQ2xCakQsRUFBQTBDLGNBQUN0QyxFQUFBNkQsTUFBSyxDQUFDQyxJQUFJLFVBQVEsV0FFdkJsRSxFQUFBMEMsY0FBQ3RDLEVBQUF5QyxJQUFHLEtBQ0E3QyxFQUFBMEMsY0FBQ3RDLEVBQUFrRCxNQUFLLENBQ0ZHLEdBQUcsU0FDSEQsS0FBSyxTQUNMUCxVQUFVLGVBQ1ZNLEtBQUssUUFDTFksSUFBSyxJQUNMQyxJQUFLLEVBQ0xDLEtBQU0sRUFDTlgsTUFBT2xDLEtBQUtRLE1BQU1NLE1BQ2xCZSxTQUFVN0IsS0FBS1EsTUFBTUwsUUFDckJnQyxTQUFXQyxJQUNQLElBQUl0QixFQUFRc0IsRUFBRUMsT0FBT1MsY0FDckI5QyxLQUFLRSxTQUFTLENBQUVZLGNBSTVCdEMsRUFBQTBDLGNBQUN0QyxFQUFBeUMsSUFBRyxDQUFDRyxHQUFJLEdBQ0xoRCxFQUFBMEMsY0FBQ3RDLEVBQUFrRCxNQUFLLENBQ0ZDLEtBQUssU0FDTEcsTUFBT2xDLEtBQUtRLE1BQU1NLE1BQ2xCZSxTQUFVN0IsS0FBS1EsTUFBTUwsUUFDckJnQyxTQUFXQyxJQUNQLElBQUl0QixFQUFRc0IsRUFBRUMsT0FBT1MsY0FDckI5QyxLQUFLRSxTQUFTLENBQUVZLGtCQVM1Q3RDLEVBQUEwQyxjQUFDdEMsRUFBQXdDLElBQUcsQ0FBQzJCLE1BQU8sQ0FBRUMsU0FBVSxJQUNwQnhFLEVBQUEwQyxjQUFDdEMsRUFBQXlDLElBQUcsS0FDQ3JCLEtBQUtRLE1BQU1ILE1BQU1yQixJQUFJLENBQUNpQyxFQUFHeEIsRUFBR3dELElBQ3pCekUsRUFBQTBDLGNBQUN0QyxFQUFBd0MsSUFBRyxDQUNBOEIsSUFBS2pDLEVBQ0w4QixNQUFPLENBQUVJLFVBQVcsSUFBWUYsRUFBS0csWUFFckM1RSxFQUFBMEMsY0FBQ3RDLEVBQUF5QyxJQUFHLEtBQ0E3QyxFQUFBMEMsY0FBQ3RDLEVBQUF5RSxTQUFRLENBQ0xOLE1BQU8sQ0FBRUksT0FBUSxRQUNqQnhCLE1BQVEzQixLQUFLUSxNQUFNRixLQUFLZ0QsUUFBUTdELElBQU0sRUFBSWQsRUFBRTRFLFFBQVF2RCxLQUFLUSxNQUFNSyxVQUFVYixLQUFLUSxNQUFNSCxPQUFRLFVBQVcsU0FBVyxPQUNsSDZCLE1BQVEsSUFBTWpCLEVBQUksRUFBTWdDLEVBQUtHLG1HQ25MakUsTUFBQUksRUFBQS9FLEVBQUEsS0FFQSxTQUFZc0MsR0FDUkEsRUFBQSxjQUNBQSxFQUFBLHNCQUNBQSxFQUFBLHNCQUNBQSxFQUFBLGNBQ0FBLEVBQUEsY0FDQUEsRUFBQSxZQUNBQSxFQUFBLGdCQUNBQSxFQUFBLG9CQVJKLENBQVlyQixFQUFBcUIsUUFBQXJCLEVBQUFxQixNQUFLLEtBWWpCckIsRUFBQWEsU0FBQSxVQUEwQmtELEVBQW9CQyxHQUMxQyxNQUFNQyxFQUFNRixFQUFTTCxPQUFPLEVBQ3RCUSxFQUFTSixFQUFBcEUsS0FBSyxJQUFJeUUsWUFBWUosR0FBV0MsR0FDL0NoRCxRQUFRQyxJQUFJLGFBQ1osSUFBSyxJQUFJbEIsRUFBSSxFQUFHQSxFQUFJbUUsRUFBT1IsT0FBU08sRUFBS2xFLElBQUssQ0FDMUMsSUFBSVksRUFBUSxJQUFJdUQsRUFBT0UsTUFBTXJFLEVBQUVrRSxHQUFLbEUsRUFBRSxHQUFHa0UsSUFDckNyRCxFQUFPRCxFQUFNMEQsT0FBTzFELEVBQU0rQyxPQUFPLEVBQUUsUUFDakMsQ0FDRi9DLFFBQ0FDLFVBS0NaLEVBQUFvQixNQUFRLENBQUNrRCxHQUNYLElBQUlDLFFBQVNDLElBQ2xCQyxXQUFXRCxFQUFTRix1Q0M5QjFCdkYsRUFBQTJGLEVBQUFDLEdBQUE1RixFQUFBNkYsRUFBQUQsRUFBQSx5QkFBQWpGLElBQUFYLEVBQUE2RixFQUFBRCxFQUFBLCtDQUFBRSxJQUFBLElBQUFDLEVBQUEvRixFQUFBLElBRUEsSUFBQWdHLEVBQUEsS0FDQSxTQUFBQyxJQUlBLE9BSEEsT0FBQUQsS0FBQUUsU0FBeUVILEVBQUEsRUFBV0csU0FDcEZGLEVBQUEsSUFBQVosWUFBK0NXLEVBQUEsRUFBV0csU0FFMURGLEVBR0EsSUFBQUcsRUFBQSxFQVNBLElBVUFDLEVBVkFDLEVBQUEsSUFBQUMsWUFBQSxTQUVBQyxFQUFBLEtBQ0EsU0FBQUMsSUFJQSxPQUhBLE9BQUFELEtBQUFMLFNBQXVFSCxFQUFBLEVBQVdHLFNBQ2xGSyxFQUFBLElBQUFFLFdBQTZDVixFQUFBLEVBQVdHLFNBRXhESyxFQUtBSCxFQURBLG1CQUFBQyxFQUFBSyxXQUNBLFNBQUFDLEdBRUEsSUFBQUMsRUFBQUQsRUFBQWhDLE9BQ0FrQyxFQUFrQmQsRUFBQSxFQUFzQmEsR0FDeENFLEVBQUEsRUFDQSxRQUNBLE1BQUFDLEVBQUFQLElBQUFRLFNBQUFILEVBQUFDLEVBQUFELEVBQUFELElBQ0FLLEtBQW1CQSxFQUFBQyxXQUFnQmIsRUFBQUssV0FBQUMsRUFBQUksR0FFbkMsR0FEQUQsR0FBQUksRUFDQUQsSUFBQU4sRUFBQWhDLE9BQ0EsTUFFQWdDLElBQUFRLFVBQUFGLEdBQ0FKLEVBQWtCZCxFQUFBLEVBQXVCYyxFQUFBRCxLQUFBLEVBQUFELEVBQUFoQyxRQUd6QyxPQURBd0IsRUFBQVcsRUFDQUQsR0FHQSxTQUFBRixHQUVBLE1BQUFTLEVBQUFmLEVBQUFnQixPQUFBVixHQUNBRSxFQUFvQmQsRUFBQSxFQUFzQnFCLEVBQUF6QyxRQUcxQyxPQUZBNkIsSUFBQWMsSUFBQUYsRUFBQVAsR0FDQVYsRUFBQWlCLEVBQUF6QyxPQUNBa0MsR0FRQSxJQUFBVSxFQUFBLEtBWU8sU0FBQTVHLEVBQUFpQixFQUFBcUQsR0FDUCxNQUFBdUMsRUFqRUEsU0FBQWIsR0FDQSxNQUFBRSxFQUFnQmQsRUFBQSxFQUFzQixFQUFBWSxFQUFBaEMsUUFHdEMsT0FGQXNCLElBQUFxQixJQUFBWCxFQUFBRSxFQUFBLEdBQ0FWLEVBQUFRLEVBQUFoQyxPQUNBa0MsRUE2REFZLENBQUE3RixHQUNBOEYsRUFBQXZCLEVBQ0F3QixFQUFBdkIsRUFBQW5CLEdBQ0EyQyxFQUFBekIsRUFDQTBCLEdBZkEsT0FBQU4sSUFDQUEsRUFBa0N4QixFQUFBLEtBRWxDd0IsR0FhSXhCLEVBQUEsRUFBUzhCLEVBQUFMLEVBQUFFLEVBQUFDLEVBQUFDLEdBQ2IsTUFBQUUsRUFBQTdCLElBQ0E4QixFQUFBRCxFQUFBRCxFQUFBLEdBQ0FHLEVBQUFGLEVBQUFELEVBQUEsS0FFQUksR0EzQkFwQixFQTJCQWtCLEVBM0JBN0MsRUEyQkE4QyxFQTFCQS9CLElBQUFlLFNBQUFILEVBQUEsRUFBQUEsRUFBQSxFQUFBM0IsSUEwQkFHLFFBM0JBLElBQUF3QixFQUFBM0IsRUE2QkEsT0FESWEsRUFBQSxFQUFvQmdDLEVBQUEsRUFBQUMsR0FDeEJDLEVBSUEsTUFBQUMsRUFBQSxJQUFBQyxNQUFBLElBRUFELEVBQUFFLFVBQUFDLEdBRUFILEVBQUFJLFVBQUFELEVBQUEsWUFFQSxJQUFBRSxFQUFBTCxFQUFBdkQsT0FRTyxTQUFBbUIsRUFBQTlFLEdBTlAsSUFBQXdILEtBTStDeEgsR0FML0MsS0FDQWtILEVBQUFNLEdBQUFELEVBQ0FBLEVBQUFDLHVKQ3ZHQSxNQUFBekksRUFBQUMsRUFBQSxHQUNBeUksRUFBQXpJLEVBQUEsSUFDQTBJLEVBQUExSSxFQUFBLElBRUF5SSxFQUFTRSxPQUNMNUksRUFBQTBDLGNBQUNpRyxFQUFBeEgsSUFBRyxNQUNKMEgsU0FBU0MsZUFBZSIsImZpbGUiOiIyLmJvb3RzdHJhcC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0J1xyXG5pbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCdcclxuaW1wb3J0IEZsaXBNb3ZlIGZyb20gJ3JlYWN0LWZsaXAtbW92ZSc7XHJcbmltcG9ydCAqIGFzIF8gZnJvbSBcImxvZGFzaFwiO1xyXG5pbXBvcnQgeyBDb250YWluZXIsIFJvdywgQ29sLCBQcm9ncmVzcywgQnV0dG9uLCBGb3JtLCBMYWJlbCwgSW5wdXQgfSBmcm9tICdyZWFjdHN0cmFwJztcclxuaW1wb3J0IHsgcnVuX3NvcnQsIGRlbGF5LCBzb3J0cyB9IGZyb20gJy4vdXRpbHMnO1xyXG5pbXBvcnQgRm9ybUdyb3VwIGZyb20gJ3JlYWN0c3RyYXAvbGliL0Zvcm1Hcm91cCc7XHJcbmltcG9ydCB7IFNvcnRlciB9IGZyb20gJy4vanNtb2R1bGUnO1xyXG5cclxuaW50ZXJmYWNlIElTdGF0ZSB7XHJcbiAgICBwcmV2QXJyYXk6IG51bWJlcltdLFxyXG4gICAgYXJyYXk6IG51bWJlcltdLFxyXG4gICAgc3dhcDogbnVtYmVyW10sXHJcbiAgICBzb3J0VHlwZTogc29ydHNcclxuICAgIHJ1bm5pbmc6IGJvb2xlYW4sXHJcbiAgICBuOiBudW1iZXIsXHJcbiAgICBkZWxheTogbnVtYmVyXHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBBcHAgZXh0ZW5kcyBDb21wb25lbnQ8e30sIElTdGF0ZT57XHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wczogUmVhZG9ubHk8e30+KSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMpXHJcbiAgICAgICAgY29uc3QgYXJyYXkgPSBzaHVmZmxlQXJyYXkoWy4uLnJhbmdlKDEsIDExKV0pO1xyXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgICAgICAgIGFycmF5LFxyXG4gICAgICAgICAgICBwcmV2QXJyYXk6IGFycmF5LFxyXG4gICAgICAgICAgICBzd2FwOiBbLTEsIC0xXSxcclxuICAgICAgICAgICAgc29ydFR5cGU6IHNvcnRzLnNlbGVjdGlvbixcclxuICAgICAgICAgICAgcnVubmluZzogZmFsc2UsXHJcbiAgICAgICAgICAgIG46IDEwLFxyXG4gICAgICAgICAgICBkZWxheTogMTAwXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNvcnRMaXN0ID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBydW5uaW5nOiB0cnVlIH0sIGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgZm9yKGNvbnN0IHthcnJheSxzd2FwfSBvZiBydW5fc29ydCh0aGlzLnN0YXRlLmFycmF5LCB0aGlzLnN0YXRlLnNvcnRUeXBlKSl7XHJcbiAgICAgICAgICAgICAgICBpZighdGhpcy5zdGF0ZS5ydW5uaW5nKSBicmVhaztcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGFycmF5KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUocHJldiA9PiAoe3ByZXZBcnJheTpwcmV2LmFycmF5LGFycmF5LHN3YXB9KSlcclxuICAgICAgICAgICAgICAgIGF3YWl0IGRlbGF5KHRoaXMuc3RhdGUuZGVsYXkpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7cnVubmluZzogZmFsc2Usc3dhcDpbLTEsLTFdfSlcclxuICAgICAgICB9KVxyXG4gICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICByZXR1cm4gPENvbnRhaW5lcj5cclxuICAgICAgICAgICAgPFJvdz5cclxuICAgICAgICAgICAgICAgIDxDb2w+XHJcbiAgICAgICAgICAgICAgICAgICAgPEZvcm0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxSb3cgbm9HdXR0ZXJzPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPENvbCB4cz17MX0gY2xhc3NOYW1lPVwidGV4dC1yaWdodFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I9XCJpbmZvXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gdGhpcy5zZXRTdGF0ZSgoeyBuIH0pID0+ICh7IGFycmF5OiBzaHVmZmxlQXJyYXkoWy4uLnJhbmdlKDEsIG4gKyAxKV0pIH0pKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUucnVubmluZ31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+U2h1ZmZsZTwvQnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Db2w+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q29sPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwic2VsZWN0XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cInNlbGVjdFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPVwiZXhhbXBsZVNlbGVjdFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnNvcnRUeXBlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGU6IFJlYWN0LkNoYW5nZUV2ZW50PEhUTUxJbnB1dEVsZW1lbnQ+KSA9PiB0aGlzLnNldFN0YXRlKHsgc29ydFR5cGU6IGUudGFyZ2V0LnZhbHVlIGFzIHNvcnRzIH0pfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5ydW5uaW5nfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge09iamVjdC5rZXlzKHNvcnRzKS5tYXAocyA9PiA8b3B0aW9uIHZhbHVlPXtzfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L29wdGlvbj4pfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvSW5wdXQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0NvbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDb2wgeHM9ezF9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I9XCJzdWNjZXNzXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zb3J0TGlzdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5ydW5uaW5nfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5Tb3J0PC9CdXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0NvbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDb2wgeHM9ezF9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I9XCJkYW5nZXJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB0aGlzLnNldFN0YXRlKHtydW5uaW5nOmZhbHNlfSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXshdGhpcy5zdGF0ZS5ydW5uaW5nfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5TdG9wPC9CdXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0NvbD5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvUm93PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8Um93IG5vR3V0dGVycz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDb2wgeHM9ezF9IGNsYXNzTmFtZT1cInRleHQtcmlnaHRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgZm9yPVwibnJhbmdlXCI+TGVuZ3RoOjwvTGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0NvbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDb2w+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPVwibnJhbmdlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm5yYW5nZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImN1c3RvbS1yYW5nZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJyYW5nZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heD17MTAwfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW49ezF9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZXA9ezF9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLm59XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLnJ1bm5pbmd9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZTogUmVhY3QuQ2hhbmdlRXZlbnQ8SFRNTElucHV0RWxlbWVudD4pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBuID0gZS50YXJnZXQudmFsdWVBc051bWJlclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcnJheTogc2h1ZmZsZUFycmF5KFsuLi5yYW5nZSgxLCBuICsgMSldKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Db2w+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q29sIHhzPXsxfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cIm51bWJlclwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLm59XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLnJ1bm5pbmd9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZTogUmVhY3QuQ2hhbmdlRXZlbnQ8SFRNTElucHV0RWxlbWVudD4pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBuID0gZS50YXJnZXQudmFsdWVBc051bWJlclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcnJheTogc2h1ZmZsZUFycmF5KFsuLi5yYW5nZSgxLCBuICsgMSldKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Db2w+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvUm93PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8Um93IG5vR3V0dGVycz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDb2wgeHM9ezF9IGNsYXNzTmFtZT1cInRleHQtcmlnaHRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgZm9yPVwibmRlbGF5XCI+RGVsYXk6PC9MYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQ29sPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPENvbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9XCJuZGVsYXlcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwibmRlbGF5XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiY3VzdG9tLXJhbmdlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInJhbmdlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4PXsxMDAwfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW49ezB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZXA9ezF9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmRlbGF5fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5ydW5uaW5nfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGU6IFJlYWN0LkNoYW5nZUV2ZW50PEhUTUxJbnB1dEVsZW1lbnQ+KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGVsYXkgPSBlLnRhcmdldC52YWx1ZUFzTnVtYmVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgZGVsYXkgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Db2w+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q29sIHhzPXsxfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cIm51bWJlclwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmRlbGF5fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5ydW5uaW5nfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGU6IFJlYWN0LkNoYW5nZUV2ZW50PEhUTUxJbnB1dEVsZW1lbnQ+KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGVsYXkgPSBlLnRhcmdldC52YWx1ZUFzTnVtYmVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgZGVsYXkgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Db2w+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvUm93PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvRm9ybT5cclxuICAgICAgICAgICAgICAgIDwvQ29sPlxyXG4gICAgICAgICAgICA8L1Jvdz5cclxuXHJcbiAgICAgICAgICAgIDxSb3cgc3R5bGU9e3sgZmxleEdyb3c6IDEgfX0+XHJcbiAgICAgICAgICAgICAgICA8Q29sPlxyXG4gICAgICAgICAgICAgICAgICAgIHt0aGlzLnN0YXRlLmFycmF5Lm1hcCgobiwgaSwgbGlzdCkgPT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPFJvd1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtufVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgaGVpZ2h0OiBgJHsxMDAgKiAxLjAgLyBsaXN0Lmxlbmd0aH0lYCB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q29sPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxQcm9ncmVzc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBoZWlnaHQ6IGAxMDAlYCB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcj17KHRoaXMuc3RhdGUuc3dhcC5pbmRleE9mKGkpID49IDApPyhfLmlzRXF1YWwodGhpcy5zdGF0ZS5wcmV2QXJyYXksdGhpcy5zdGF0ZS5hcnJheSkpP1wic3VjY2Vzc1wiOiBcImRhbmdlclwiIDogXCJpbmZvXCJ9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXsoMTAwICogbiAqIDEuMCAvIGxpc3QubGVuZ3RoKX0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQ29sPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L1Jvdz5cclxuICAgICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgPC9Db2w+XHJcbiAgICAgICAgICAgIDwvUm93PlxyXG5cclxuICAgICAgICA8L0NvbnRhaW5lcj5cclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gc2h1ZmZsZUFycmF5PFQgZXh0ZW5kcyBudW1iZXI+KGFycjogVFtdKSB7XHJcbiAgICByZXR1cm4gYXJyXHJcbiAgICAgICAgLm1hcChhID0+IFtNYXRoLnJhbmRvbSgpLCBhXSlcclxuICAgICAgICAuc29ydCgoYSwgYikgPT4gYVswXSAtIGJbMF0pXHJcbiAgICAgICAgLm1hcChhID0+IGFbMV0pO1xyXG59XHJcbmZ1bmN0aW9uKiByYW5nZShzdGFydDogbnVtYmVyLCBlbmQ6IG51bWJlcik6IEl0ZXJhYmxlSXRlcmF0b3I8bnVtYmVyPiB7XHJcbiAgICBmb3IgKGxldCBpID0gc3RhcnQ7IGkgPCBlbmQ7IGkrKykge1xyXG4gICAgICAgIHlpZWxkIGk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHtzb3J0LH0gZnJvbSBcInNvcnR2aXN1YWxpemVyXCJcclxuXHJcbmV4cG9ydCBlbnVtIHNvcnRze1xyXG4gICAgcXVpY2sgPSBcInF1aWNrXCIsXHJcbiAgICBzZWxlY3Rpb24gPSBcInNlbGVjdGlvblwiLFxyXG4gICAgaW5zZXJ0aW9uID0gXCJpbnNlcnRpb25cIixcclxuICAgIG1lcmdlID0gXCJtZXJnZVwiLFxyXG4gICAgZ25vbWUgPSBcImdub21lXCIsXHJcbiAgICBoZWFwID0gXCJoZWFwXCIsXHJcbiAgICBidWJibGUgPSBcImJ1YmJsZVwiLFxyXG4gICAgY29ja3RhaWwgPSBcImNvY2t0YWlsXCJcclxufVxyXG5cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiogcnVuX3NvcnQob3JpZ2luYWw6IG51bWJlcltdLCBzb3J0X3R5cGU6IHNvcnRzKSB7XHJcbiAgICBjb25zdCBsZW4gPSBvcmlnaW5hbC5sZW5ndGgrMjtcclxuICAgIGNvbnN0IHJlc3VsdCA9IHNvcnQobmV3IFVpbnQzMkFycmF5KG9yaWdpbmFsKSwgc29ydF90eXBlKTtcclxuICAgIGNvbnNvbGUubG9nKFwiZ290IGFycmF5XCIpXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlc3VsdC5sZW5ndGggLyBsZW47IGkrKykge1xyXG4gICAgICAgIGxldCBhcnJheSA9IFsuLi5yZXN1bHQuc2xpY2UoaSpsZW4sKGkrMSkqbGVuKV07XHJcbiAgICAgICAgbGV0IHN3YXAgPSBhcnJheS5zcGxpY2UoYXJyYXkubGVuZ3RoLTIsMik7XHJcbiAgICAgICAgeWllbGQge1xyXG4gICAgICAgICAgICBhcnJheSxcclxuICAgICAgICAgICAgc3dhcFxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGRlbGF5ID0gKGFtb3VudCA6IG51bWJlcikgPT4ge1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XHJcbiAgICAgIHNldFRpbWVvdXQocmVzb2x2ZSwgYW1vdW50KTtcclxuICAgIH0pO1xyXG59IiwiaW1wb3J0ICogYXMgd2FzbSBmcm9tICcuL3NvcnR2aXN1YWxpemVyX2JnJztcblxubGV0IGNhY2hlZ2V0VWludDMyTWVtb3J5ID0gbnVsbDtcbmZ1bmN0aW9uIGdldFVpbnQzMk1lbW9yeSgpIHtcbiAgICBpZiAoY2FjaGVnZXRVaW50MzJNZW1vcnkgPT09IG51bGwgfHwgY2FjaGVnZXRVaW50MzJNZW1vcnkuYnVmZmVyICE9PSB3YXNtLm1lbW9yeS5idWZmZXIpIHtcbiAgICAgICAgY2FjaGVnZXRVaW50MzJNZW1vcnkgPSBuZXcgVWludDMyQXJyYXkod2FzbS5tZW1vcnkuYnVmZmVyKTtcbiAgICB9XG4gICAgcmV0dXJuIGNhY2hlZ2V0VWludDMyTWVtb3J5O1xufVxuXG5sZXQgV0FTTV9WRUNUT1JfTEVOID0gMDtcblxuZnVuY3Rpb24gcGFzc0FycmF5MzJUb1dhc20oYXJnKSB7XG4gICAgY29uc3QgcHRyID0gd2FzbS5fX3diaW5kZ2VuX21hbGxvYyhhcmcubGVuZ3RoICogNCk7XG4gICAgZ2V0VWludDMyTWVtb3J5KCkuc2V0KGFyZywgcHRyIC8gNCk7XG4gICAgV0FTTV9WRUNUT1JfTEVOID0gYXJnLmxlbmd0aDtcbiAgICByZXR1cm4gcHRyO1xufVxuXG5sZXQgY2FjaGVkVGV4dEVuY29kZXIgPSBuZXcgVGV4dEVuY29kZXIoJ3V0Zi04Jyk7XG5cbmxldCBjYWNoZWdldFVpbnQ4TWVtb3J5ID0gbnVsbDtcbmZ1bmN0aW9uIGdldFVpbnQ4TWVtb3J5KCkge1xuICAgIGlmIChjYWNoZWdldFVpbnQ4TWVtb3J5ID09PSBudWxsIHx8IGNhY2hlZ2V0VWludDhNZW1vcnkuYnVmZmVyICE9PSB3YXNtLm1lbW9yeS5idWZmZXIpIHtcbiAgICAgICAgY2FjaGVnZXRVaW50OE1lbW9yeSA9IG5ldyBVaW50OEFycmF5KHdhc20ubWVtb3J5LmJ1ZmZlcik7XG4gICAgfVxuICAgIHJldHVybiBjYWNoZWdldFVpbnQ4TWVtb3J5O1xufVxuXG5sZXQgcGFzc1N0cmluZ1RvV2FzbTtcbmlmICh0eXBlb2YgY2FjaGVkVGV4dEVuY29kZXIuZW5jb2RlSW50byA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHBhc3NTdHJpbmdUb1dhc20gPSBmdW5jdGlvbihhcmcpIHtcblxuICAgICAgICBsZXQgc2l6ZSA9IGFyZy5sZW5ndGg7XG4gICAgICAgIGxldCBwdHIgPSB3YXNtLl9fd2JpbmRnZW5fbWFsbG9jKHNpemUpO1xuICAgICAgICBsZXQgd3JpdGVPZmZzZXQgPSAwO1xuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgY29uc3QgdmlldyA9IGdldFVpbnQ4TWVtb3J5KCkuc3ViYXJyYXkocHRyICsgd3JpdGVPZmZzZXQsIHB0ciArIHNpemUpO1xuICAgICAgICAgICAgY29uc3QgeyByZWFkLCB3cml0dGVuIH0gPSBjYWNoZWRUZXh0RW5jb2Rlci5lbmNvZGVJbnRvKGFyZywgdmlldyk7XG4gICAgICAgICAgICB3cml0ZU9mZnNldCArPSB3cml0dGVuO1xuICAgICAgICAgICAgaWYgKHJlYWQgPT09IGFyZy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFyZyA9IGFyZy5zdWJzdHJpbmcocmVhZCk7XG4gICAgICAgICAgICBwdHIgPSB3YXNtLl9fd2JpbmRnZW5fcmVhbGxvYyhwdHIsIHNpemUsIHNpemUgKz0gYXJnLmxlbmd0aCAqIDMpO1xuICAgICAgICB9XG4gICAgICAgIFdBU01fVkVDVE9SX0xFTiA9IHdyaXRlT2Zmc2V0O1xuICAgICAgICByZXR1cm4gcHRyO1xuICAgIH07XG59IGVsc2Uge1xuICAgIHBhc3NTdHJpbmdUb1dhc20gPSBmdW5jdGlvbihhcmcpIHtcblxuICAgICAgICBjb25zdCBidWYgPSBjYWNoZWRUZXh0RW5jb2Rlci5lbmNvZGUoYXJnKTtcbiAgICAgICAgY29uc3QgcHRyID0gd2FzbS5fX3diaW5kZ2VuX21hbGxvYyhidWYubGVuZ3RoKTtcbiAgICAgICAgZ2V0VWludDhNZW1vcnkoKS5zZXQoYnVmLCBwdHIpO1xuICAgICAgICBXQVNNX1ZFQ1RPUl9MRU4gPSBidWYubGVuZ3RoO1xuICAgICAgICByZXR1cm4gcHRyO1xuICAgIH07XG59XG5cbmZ1bmN0aW9uIGdldEFycmF5VTMyRnJvbVdhc20ocHRyLCBsZW4pIHtcbiAgICByZXR1cm4gZ2V0VWludDMyTWVtb3J5KCkuc3ViYXJyYXkocHRyIC8gNCwgcHRyIC8gNCArIGxlbik7XG59XG5cbmxldCBjYWNoZWRHbG9iYWxBcmd1bWVudFB0ciA9IG51bGw7XG5mdW5jdGlvbiBnbG9iYWxBcmd1bWVudFB0cigpIHtcbiAgICBpZiAoY2FjaGVkR2xvYmFsQXJndW1lbnRQdHIgPT09IG51bGwpIHtcbiAgICAgICAgY2FjaGVkR2xvYmFsQXJndW1lbnRQdHIgPSB3YXNtLl9fd2JpbmRnZW5fZ2xvYmFsX2FyZ3VtZW50X3B0cigpO1xuICAgIH1cbiAgICByZXR1cm4gY2FjaGVkR2xvYmFsQXJndW1lbnRQdHI7XG59XG4vKipcbiogQHBhcmFtIHtVaW50MzJBcnJheX0gYXJyYXlcbiogQHBhcmFtIHtzdHJpbmd9IHNvcnRfdHlwZVxuKiBAcmV0dXJucyB7VWludDMyQXJyYXl9XG4qL1xuZXhwb3J0IGZ1bmN0aW9uIHNvcnQoYXJyYXksIHNvcnRfdHlwZSkge1xuICAgIGNvbnN0IHB0cjAgPSBwYXNzQXJyYXkzMlRvV2FzbShhcnJheSk7XG4gICAgY29uc3QgbGVuMCA9IFdBU01fVkVDVE9SX0xFTjtcbiAgICBjb25zdCBwdHIxID0gcGFzc1N0cmluZ1RvV2FzbShzb3J0X3R5cGUpO1xuICAgIGNvbnN0IGxlbjEgPSBXQVNNX1ZFQ1RPUl9MRU47XG4gICAgY29uc3QgcmV0cHRyID0gZ2xvYmFsQXJndW1lbnRQdHIoKTtcbiAgICB3YXNtLnNvcnQocmV0cHRyLCBwdHIwLCBsZW4wLCBwdHIxLCBsZW4xKTtcbiAgICBjb25zdCBtZW0gPSBnZXRVaW50MzJNZW1vcnkoKTtcbiAgICBjb25zdCBydXN0cHRyID0gbWVtW3JldHB0ciAvIDRdO1xuICAgIGNvbnN0IHJ1c3RsZW4gPSBtZW1bcmV0cHRyIC8gNCArIDFdO1xuXG4gICAgY29uc3QgcmVhbFJldCA9IGdldEFycmF5VTMyRnJvbVdhc20ocnVzdHB0ciwgcnVzdGxlbikuc2xpY2UoKTtcbiAgICB3YXNtLl9fd2JpbmRnZW5fZnJlZShydXN0cHRyLCBydXN0bGVuICogNCk7XG4gICAgcmV0dXJuIHJlYWxSZXQ7XG5cbn1cblxuY29uc3QgaGVhcCA9IG5ldyBBcnJheSgzMik7XG5cbmhlYXAuZmlsbCh1bmRlZmluZWQpO1xuXG5oZWFwLnB1c2godW5kZWZpbmVkLCBudWxsLCB0cnVlLCBmYWxzZSk7XG5cbmxldCBoZWFwX25leHQgPSBoZWFwLmxlbmd0aDtcblxuZnVuY3Rpb24gZHJvcE9iamVjdChpZHgpIHtcbiAgICBpZiAoaWR4IDwgMzYpIHJldHVybjtcbiAgICBoZWFwW2lkeF0gPSBoZWFwX25leHQ7XG4gICAgaGVhcF9uZXh0ID0gaWR4O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX193YmluZGdlbl9vYmplY3RfZHJvcF9yZWYoaSkgeyBkcm9wT2JqZWN0KGkpOyB9XG5cbiIsIlxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnXG5pbXBvcnQgKiBhcyBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nO1xuaW1wb3J0IHsgQXBwIH0gZnJvbSBcIi4vQXBwXCI7XG5cblJlYWN0RE9NLnJlbmRlcihcbiAgICA8QXBwLz4sXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jvb3QnKSBhcyBIVE1MRWxlbWVudFxuICApO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==